{
  "swagger": "2.0",
  "info": {
    "title": "Tarot API Test",
    "description": "오늘도 화이팅",
    "version": "1.0.0"
  },
  "host": "43.202.208.226:3001",
  "basePath": "/",
  "schemes": [
    "http"
  ],
  "paths": {
    "/tarot/guide": {
      "get": {
        "tags": [
          "Tarot"
        ],
        "summary": "가이드라인 불러오기",
        "description": "가이드라인 불러오기",
        "parameters": [
          {
            "name": "luckType",
            "in": "query",
            "description": "운 종류",
            "required": true,
            "type": "string",
            "example": "애정운"
          },
          {
            "name": "luckOpt",
            "in": "query",
            "description": "뽑는 사람 수",
            "required": true,
            "type": "integer",
            "example": "1"
          }
        ],
        "responses": {
          "200": {
            "description": "테스트 값 조회 성공"
          },
          "400": {
            "description": "잘못된 요청"
          }
        }
      }
    },
    "/tarot/poll/create": {
      "get": {
        "tags": [
          "Tarot"
        ],
        "summary": "타로 시작 시 Poll(임시저장) → 타로 시작 할 경우 뽑은 카드와 결과 저장을 구별할 Poll Table",
        "description": "뽑은 카드 결과 저장 및 총 결과 저장 시 사용됨",
        "parameters": [
          {
            "name": "userid",
            "in": "query",
            "description": "사용자의 ID",
            "required": true,
            "type": "string",
            "example": "12345"
          },
          {
            "name": "partnerid",
            "in": "query",
            "description": "파트너의 ID (선택 사항)",
            "required": false,
            "type": "string",
            "example": "67890"
          }
        ],
        "responses": {
          "200": {
            "description": "Poll ID가 성공적으로 생성되었을 때의 응답",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "success"
                },
                "statusCode": {
                  "type": "number",
                  "example": 200
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Poll ID 생성 완료"
                    },
                    "pollId": {
                      "type": "number",
                      "example": 0
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "요청된 사용자 ID가 누락되었을 때의 응답",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "유저 아이디 누락"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "DB 저장 과정에서 오류 발생 시의 응답",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "DB 저장 오류"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/tarot/card/info": {
      "post": {
        "tags": [
          "Tarot"
        ],
        "summary": "카드 정보 조회",
        "description": "카드 정보를 정수형으로 전달하면 해당 카드의 정보를 반환함",
        "parameters": [
          {
            "name": "card",
            "in": "query",
            "description": "카드 번호",
            "required": true,
            "type": "integer",
            "example": "1"
          }
        ],
        "responses": {
          "200": {
            "description": "카드 정보 불러오기 성공 url 전송"
          },
          "400": {
            "description": "잘못된 카드 번호 요청"
          },
          "500": {
            "description": "카드 정보 불러오기 실패"
          }
        }
      }
    },
    "/result/": {
      "post": {
        "tags": [
          "Result"
        ],
        "summary": "Todo: 결과 리스트, 결과 상세조회, 결과 삭제",
        "description": "/list /detail /deswaggerlete",
        "parameters": [
          {
            "name": "cards",
            "in": "query",
            "description": "카드 배열",
            "required": true,
            "type": "array",
            "example": "[Ace of Wands, Ace of Cups, Ace of Swords]",
            "schema": {
              "type": "object",
              "properties": {
                "cards": {
                  "type": "string",
                  "example": "[Ace of Wands, Ace of Cups, Ace of Swords]"
                }
              }
            }
          },
          {
            "name": "ask",
            "in": "query",
            "description": "질문",
            "required": true,
            "type": "string",
            "example": "오늘의 운세는 어떤가요?",
            "schema": {
              "type": "object",
              "properties": {
                "ask": {
                  "type": "string",
                  "example": "오늘의 운세는 어떤가요?"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "GPT-3 API 요청 성공",
            "schema": {
              "type": "object",
              "properties": {
                "json": {
                  "type": "object",
                  "properties": {
                    "card1": {
                      "type": "string",
                      "example": "Ace of Wands"
                    },
                    "card2": {
                      "type": "string",
                      "example": "Ace of Cups"
                    },
                    "card3": {
                      "type": "string",
                      "example": "Ace of Swords"
                    },
                    "ask": {
                      "type": "string",
                      "example": "오늘의 운세는 어떤가요?"
                    },
                    "answer": {
                      "type": "string",
                      "example": "오늘은 행운이 가득할 거예요!"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "유효하지않은 질문 정보",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "request is null or undefined"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "GPT-3 API 요청 중 오류 발생",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "GPT-3 API 요청 중 오류 발생"
                },
                "error": {
                  "type": "string",
                  "example": "error"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/result/save": {
      "post": {
        "tags": [
          "Result"
        ],
        "summary": "총합 결과 저장",
        "description": "총합 결과 저장",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "description": "유저 고유번호",
            "required": true,
            "type": "string",
            "example": "12345"
          },
          {
            "name": "poll_id",
            "in": "query",
            "description": "폴 아이디",
            "required": true,
            "type": "string",
            "example": "56789"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "question": {
                  "example": "any"
                },
                "result_explanation": {
                  "example": "any"
                },
                "master_name": {
                  "example": "any"
                },
                "luck_type": {
                  "example": "any"
                },
                "card_image_url": {
                  "example": "any"
                },
                "card_explanation": {
                  "example": "any"
                },
                "card_eng_name": {
                  "example": "any"
                },
                "card_kor_name": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "테스트 값 조회 성공"
          },
          "400": {
            "description": "잘못된 요청"
          }
        }
      }
    },
    "/user/signup": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "회원가입",
        "description": "회원가입 하는 유저의 아이디, username 중복검사 및 가입 하는 유저의 정보를 데이터베이스에 저장",
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "사용자의 아이디",
            "required": true,
            "type": "string",
            "example": "minki"
          },
          {
            "name": "password",
            "in": "query",
            "description": "비밀번호",
            "required": true,
            "type": "string",
            "example": "0000"
          },
          {
            "name": "username",
            "in": "query",
            "description": "닉네임",
            "required": true,
            "type": "string",
            "example": "타로마스터"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "접근 방식 오류"
          },
          "409": {
            "description": "이미 존재하는 아이디나 username"
          },
          "500": {
            "description": "회원가입 정보 불러오기 실패"
          }
        }
      }
    },
    "/user/login": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "로그인",
        "description": "아이디와 비밀번호를 이용하여 로그인을 수행하고, 성공 시 액세스 토큰과 리프레시 토큰을 발급",
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "사용자의 아이디",
            "required": true,
            "type": "string",
            "example": "minki"
          },
          {
            "name": "password",
            "in": "query",
            "description": "비밀번호",
            "required": true,
            "type": "string",
            "example": "0000"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "접근 방식 오류"
          },
          "401": {
            "description": "유효하지 않은 아이디 또는 비밀번호"
          },
          "500": {
            "description": "로그인 정보 불러오기 실패"
          }
        }
      }
    },
    "/user/logout": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "로그아웃",
        "description": "현재 로그인된 사용자의 로그아웃을 수행",
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "로그아웃 정보 불러오기 실패"
          }
        }
      }
    },
    "/mypage/detail": {
      "get": {
        "tags": [
          "MyPage"
        ],
        "summary": "결과 리스트에서 선택한 결과 상세 조회",
        "description": "결과 리스트 중 선택한 결과(Poll_id)를 통해 해당 결과를 상세조회한다.",
        "parameters": [
          {
            "name": "poll_id",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "결과와 카드 데이터 성공적으로 조회됨.",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "question": {
                        "type": "string",
                        "example": ""
                      },
                      "explanation": {
                        "type": "string",
                        "example": ""
                      },
                      "luck": {
                        "type": "string",
                        "example": ""
                      },
                      "master_name": {
                        "type": "string",
                        "example": ""
                      },
                      "created_at": {
                        "type": "string",
                        "example": ""
                      }
                    }
                  }
                },
                "cards": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "image_url": {
                        "type": "string",
                        "example": ""
                      },
                      "explanation": {
                        "type": "string",
                        "example": ""
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "내부 서버 오류로 인한 DB 쿼리 실패.",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "DB 쿼리 오류"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/test/user/info": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "유저 조회 테스트",
        "description": "유저 조회 테스트",
        "responses": {
          "200": {
            "description": "유저 조회 테스트 성공"
          },
          "400": {
            "description": "잘못된 요청"
          }
        }
      }
    },
    "/test/page": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "페이지 이동 테스트",
        "description": "페이지 이동 테스트",
        "responses": {
          "200": {
            "description": "페이지 이동 테스트 성공"
          },
          "400": {
            "description": "잘못된 요청"
          }
        }
      }
    },
    "/test/testdb": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "DB 테스트",
        "description": "DB를 테스트 해봅시다 :>",
        "responses": {
          "200": {
            "description": "테스트 값 조회 성공"
          },
          "400": {
            "description": "잘못된 요청"
          }
        }
      }
    },
    "/test/testgpt": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "GPT-3 테스트",
        "description": "GPT-3를 테스트 해봅시다 :>",
        "responses": {
          "200": {
            "description": "테스트 값 조회 성공"
          },
          "400": {
            "description": "잘못된 요청"
          }
        }
      }
    },
    "/secret/MySQL": {
      "get": {
        "tags": [
          "Test"
        ],
        "summary": "시크릿 매니저를 통한 MySQL 정보 조회",
        "description": "SecretsManager Router Test -> MySQL",
        "responses": {
          "200": {
            "description": "MySQL 정보 조회 성공"
          },
          "400": {
            "description": "잘못된 요청"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    }
  }
}
